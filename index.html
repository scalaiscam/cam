<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- full page -->
    <link rel="stylesheet" type="text/css" href="css/fullpage.css" />
    <!-- style -->
    <link rel="stylesheet" href="css/style.css">
    
    <meta name="theme-color" content="#3367D6"/>
    <!-- icon page web -->
    <link rel="icon" sizes="512x512" href="/images/icon-512.png">
    <link rel="manifest" href="/manifest.json">
    <!-- reuse same icon for Safari -->
    <link rel="apple-touch-icon" href="/images/icon-512.png">

    <!-- multiple icons for IE -->
    <meta name="msapplication-square310x310logo" content="/images/icon-512.png">
    <link rel="apple-touch-icon" href="/images/icon-512.png">
    <meta name="msapplication-square70x70logo" content="/images/icon-512.png">
    <meta name="msapplication-square150x150logo" content="/images/icon-512.png">
    <meta name="msapplication-wide310x150logo" content="/images/icon-512.png">

   <!-- icon in the highest resolution we need it for -->
    <link rel="icon" href="favicon.ico"/>
    <title itemprop="name">Weather - Scalais Camille</title>
</head>
<body class="fullscreen">        
  <header>      
    <div class="localisation">
      <a href="" id="localisation">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-geo-fill" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"/>
        </svg></a>
    </div>
  <div class="wrap">
    <div class="search-city">
      <form action="" id="formweather">
       <input type="text" class="searchTerm" id="ville" placeholder="Search city">
       <button type="submit" id="go" class="searchButton" name="submit">
         <i class="fa fa-search"></i>
      </button>
   </form> 
  </div>
 </div>
  </header><!--header-->

    <div class="container-fluid">
      <div class="row daycurrent">
        <div id="current">
          <div class="localisation">
           
            <h1>Nivelles</h1>
            <h2>Soleil</h2>
          </div><!--localisation-->
          <div class="image center" id="current-icon">
          </div>
        
        <div class="row top20">
          <div class="col">
            <h4 class="left light heure">12h30</h4>
            <h4 class="left light date">16.12.20</h4>
            
          </div><!--col-->
            <span class="vertical-line"></span>
          <div class="col">
            <div class="temp">
              <i class="fas fa-temperature-high temp"></i>
              <h4 class="right bold temperature lightDarkF light">11 C°</h4>
            </div>
            <div class="humid">
              <i class="fas fa-tint humid"></i>
              <h4 class="right light humidite lightDarkF light">30 %</h4>
            </div>
          </div> <!--col-->
        </div> <!--row-->
    
      </div> <!--current-->
    </div> <!--row-->
  <div class="container">
    <div class="row day1">
      <div class="col flex">
        <div class="date"><h3>Jour</h3></div>
      </div>
      <div class="col flex">
        <div class="temperaturemax"></div>
        <div class="temperaturemin"></div>
      </div>
      <div class="col">
        <div class="image"></div>
      </div>
    </div> <!--row-->

    <div class="row day2">
      <div class="col flex">
        <div class="date"><h3>Jour</h3></div>
      </div>
      <div class="col flex">
        <div class="temperaturemax"></div>
        <div class="temperaturemin"></div>
      </div>
      <div class="col">
        <div class="image"></div>
      </div>
    </div> <!--row-->

    <div class="row day3">
      <div class="col flex">
        <div class="date"><h3>Jour</h3></div>
      </div>
      <div class="col flex">
        <div class="temperaturemax"></div>
        <div class="temperaturemin"></div>
      </div>
      <div class="col">
        <div class="image"></div>
      </div>
    </div> <!--row-->

    <div class="row day4">
      <div class="col flex">
        <div class="date"><h3>Jour</h3></div>
      </div>
      <div class="col flex">
        <div class="temperaturemax"></div>
        <div class="temperaturemin"></div>
      </div>
      <div class="col">
        <div class="image"></div>
      </div>
    </div> <!--row-->
  </div><!--container-->
  </div> <!--container-fluid-->


<footer class="page-footer">
  <div class="col-12 app d-none" id="telechargeapp">
    <p>Téléchargez l'application Weather</p>
    <button id="btnAdd" class="btn btn-primary d-none">Installer</button>
  </div>
</footer> <!-- Footer -->
</body>


<!--script-->

<script src="js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>

<script src="sw.js"></script>
<script>
    if('serviceWorker' in navigator) {
      navigator.serviceWorker
               .register('/sw.js')
               .then(function() { console.log("Service Worker Registered"); });
    }


    // fonction qui check si appli installable
    window.addEventListener('beforeinstallprompt', (e) => {
        console.log("beforeinstallprompt");
    // Stash the event so it can be triggered later.
    deferredPrompt = e;
    // Update UI notify the user they can add to home screen
    showInstallPromotion();

});

function  showInstallPromotion() {
  //  alert("ok on peut installer");

   $('#btnAdd').removeClass('d-none');
   $('.app').removeClass('d-none');

}

var btnAdd = document.getElementById("btnAdd");
var telechargeapp = document.getElementById("telechargeapp");

btnAdd.addEventListener('click', (e) => {
  // hide our user interface that shows our A2HS button
  btnAdd.style.display = 'none';
  telechargeapp.style.display = 'none';
  // Show the prompt
  deferredPrompt.prompt();
  // Wait for the user to respond to the prompt
  deferredPrompt.userChoice
    .then((choiceResult) => {
      if (choiceResult.outcome === 'accepted') {
        console.log('User accepted the A2HS prompt');
      } else {
        console.log('User dismissed the A2HS prompt');
      }
      deferredPrompt = null;
    });
});
   
</script>

<script src="js/scripts.js"></script>
</html>