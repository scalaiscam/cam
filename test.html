<html lang="fr">

        <head>
            <meta charset="UTF-8">
            <!--Meta-->
            <meta name="description" content="Pwa météo.">
            <meta name="keywords"
                content="camille scalais, camille, scalais, pwa, meteo, web, design, projet, HTML, CSS, Javascript">
            <meta name="robots" content="camille scalais, scalais camille">
            <meta name="author" content="camille scalais">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <!-- Favicons -->
            <link sizes="512x512" href="img/Home.png" rel="icon">
                <!-- safari -->
            <link rel="apple-touch-icon" href="img/Home.png">
            <!--manifest-->
            <link rel="manifest" href="manifest.json">
            <!--Bootstrap-->
            <link rel="stylesheet" href="css/bootstrap.min.css">
            <script src="https://kit.fontawesome.com/b052d01902.js" crossorigin="anonymous"></script>
                <meta name="theme-color" content="#eb5252" />
            <!--CSS-->
            <link rel="stylesheet" href="scss/style.css">
            <!-- multiple icon -->
            <meta name="msapplication-square310x310logo" content="img/Home.png">
            <link rel="apple-touch-icon" href="img/Home.png">
            <meta name="msapplication-square70x70logo" content="img/Home.png">
            <meta name="msapplication-square150x150logo" content="img/Home.png">
            <meta name="msapplication-wide310x150logo" content="img/Home.png">
            <!-- icon in the highest resolution we need it for -->
            <title itemprop="name">Weather - Scalais Camille</title>
        </head>

        <body>
            <div class="choix-ville">
                <form action="" id="formmeteo">
                    <input type="text" id="ville">
                    <label for="ville">Receive promotional offers?</label>
                    <button id="go" class='btn btn-primary'><span class="material-icons" aria-hidden="true"><svg
                                xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-arrow-right" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                    d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z" />
                            </svg></span></button>
                </form>
            </div>

            <div class="localisation">
                <a href="" class="btn btn-primary" id="meteoposition">Ma position <svg xmlns="http://www.w3.org/2000/svg"
                        width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                    </svg></a>
            </div>
            <h1>app meteo</h1>


            <div class="container">
                <div class="row">
                    <div class="col-12 daycurrent">

                        <div class="jour"></div>
                        <div class="date"></div>
                        <!-- <img class="iconbase" src="" alt=""> -->
                        <div class="flex">
                            <div class="image"></div>
                            <div class="temperature"></div>
                        </div>

                        <h2></h2>


                    </div>

                    <div class="col-6 col-md-3 day1 predict">
                        <div class="jour"></div>

                        <!-- <img class="iconbase" src="" alt=""> -->
                        <div class="image"></div>
                        <h2></h2>
                        <div class="date"></div>
                        <div class="temperaturemin"></div>
                        <div class="temperaturemax"></div>
                    </div>

                    <div class="col-6 col-md-3 day2 predict">
                        <div class="jour"></div>

                        <!-- <img class="iconbase" src="" alt=""> -->
                        <div class="image"></div>
                        <h2></h2>
                        <div class="date"></div>
                        <div class="temperaturemin"></div>
                        <div class="temperaturemax"></div>
                    </div>

                    <div class="col-6 col-md-3 day3 predict">
                        <div class="jour"></div>

                        <!-- <img class="iconbase" src="" alt=""> -->
                        <div class="image"></div>
                        <h2></h2>
                        <div class="date"></div>
                        <div class="temperaturemin"></div>
                        <div class="temperaturemax"></div>
                    </div>

                    <div class="col-6 col-md-3 day4 predict">
                        <div class="jour"></div>

                        <!-- <img class="iconbase" src="" alt=""> -->
                        <div class="image"></div>
                        <h2></h2>
                        <div class="date"></div>
                        <div class="temperaturemin"></div>
                        <div class="temperaturemax"></div>
                    </div>




                    <div class="col-12 col-md-6 besoin-app d-none" id="besoinapp">
                        <p>Téléchargez l'application Weather</p>
                        <button id="btnAdd" class="btn btn-primary d-none">Installer Weather</button>
                    </div>
                </div>
            </div>




            <script src="js/jquery-3.5.1.min.js"></script>
            <script src="js/bootstrap.min.js"></script>
            <script src="js/scripts.js"></script>
            <script src="sw.js"></script>

            <script>
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker
                        .register('/sw.js')
                        .then(function () { console.log("Service Worker Registered"); });
                }


                // fonction qui check si appli installable
                window.addEventListener('beforeinstallprompt', (e) => {
                    console.log("beforeinstallprompt");
                    // Stash the event so it can be triggered later.
                    deferredPrompt = e;
                    // Update UI notify the user they can add to home screen
                    showInstallPromotion();

                });

                function showInstallPromotion() {
                    //  alert("ok on peut installer");

                    $('#btnAdd').removeClass('d-none');
                    $('.besoin-app').removeClass('d-none');
                    $('.image-tel').removeClass('d-none');

                }

                var btnAdd = document.getElementById("btnAdd");
                var besoinapp = document.getElementById("besoinapp");
                var imagetel = document.getElementById("imagetel");

                btnAdd.addEventListener('click', (e) => {
                    // hide our user interface that shows our A2HS button
                    btnAdd.style.display = 'none';
                    besoinapp.style.display = 'none';
                    imagetel.style.display = 'none';
                    // Show the prompt
                    deferredPrompt.prompt();
                    // Wait for the user to respond to the prompt
                    deferredPrompt.userChoice
                        .then((choiceResult) => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('User accepted the A2HS prompt');
                            } else {
                                console.log('User dismissed the A2HS prompt');
                            }
                            deferredPrompt = null;
                        });
                });


            </script>
        </body>

        </html>